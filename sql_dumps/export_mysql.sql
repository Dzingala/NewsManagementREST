CREATE DATABASE dzinhala
  CHARACTER SET utf8
  COLLATE utf8_general_ci;

CREATE TABLE dzinhala.author (
  AUTHOR_ID int(11) NOT NULL AUTO_INCREMENT,
  AUTHOR_NAME varchar(30) NOT NULL,
  EXPIRED timestamp NULL DEFAULT NULL,
  PRIMARY KEY (AUTHOR_ID)
)
  ENGINE = INNODB
  AUTO_INCREMENT = 21
  AVG_ROW_LENGTH = 819
  CHARACTER SET utf8
  COLLATE utf8_general_ci;

CREATE TABLE dzinhala.news (
  NEWS_ID int(11) NOT NULL AUTO_INCREMENT,
  TITLE varchar(30) NOT NULL,
  SHORT_TEXT varchar(100) NOT NULL,
  FULL_TEXT varchar(1000) NOT NULL,
  CREATION_DATE timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  MODIFICATION_DATE date NOT NULL,
  PRIMARY KEY (NEWS_ID)
)
  ENGINE = INNODB
  AUTO_INCREMENT = 21
  AVG_ROW_LENGTH = 819
  CHARACTER SET utf8
  COLLATE utf8_general_ci;

CREATE TABLE dzinhala.roles (
  ROLE_ID int(11) NOT NULL AUTO_INCREMENT,
  ROLE_NAME varchar(50) NOT NULL,
  PRIMARY KEY (ROLE_ID)
)
  ENGINE = INNODB
  AUTO_INCREMENT = 21
  AVG_ROW_LENGTH = 819
  CHARACTER SET utf8
  COLLATE utf8_general_ci;

CREATE TABLE dzinhala.tag (
  TAG_ID int(11) NOT NULL AUTO_INCREMENT,
  TAG_NAME varchar(30) NOT NULL,
  PRIMARY KEY (TAG_ID)
)
  ENGINE = INNODB
  AUTO_INCREMENT = 21
  AVG_ROW_LENGTH = 819
  CHARACTER SET utf8
  COLLATE utf8_general_ci;

CREATE TABLE dzinhala.users (
  USER_ID int(11) NOT NULL AUTO_INCREMENT,
  USER_NAME varchar(50) NOT NULL,
  LOGIN varchar(30) NOT NULL,
  PASSWORD varchar(32) NOT NULL COMMENT '32 symbolw for allowing md5 hasing',
  ROLE_ID int(11) NOT NULL,
  PRIMARY KEY (USER_ID),
  CONSTRAINT FK_users_roles_ROLE_ID FOREIGN KEY (ROLE_ID)
  REFERENCES dzinhala.roles (ROLE_ID) ON DELETE NO ACTION ON UPDATE NO ACTION
)
  ENGINE = INNODB
  AUTO_INCREMENT = 21
  AVG_ROW_LENGTH = 819
  CHARACTER SET utf8
  COLLATE utf8_general_ci;

CREATE TABLE dzinhala.news_author (
  NEWS_ID int(11) NOT NULL,
  AUTHOR_ID int(11) NOT NULL,
  CONSTRAINT FK_news_author_author_AUTHOR_ID FOREIGN KEY (AUTHOR_ID)
  REFERENCES dzinhala.author (AUTHOR_ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT FK_news_author_news_NEWS_ID FOREIGN KEY (NEWS_ID)
  REFERENCES dzinhala.news (NEWS_ID) ON DELETE NO ACTION ON UPDATE NO ACTION
)
  ENGINE = INNODB
  AVG_ROW_LENGTH = 819
  CHARACTER SET utf8
  COLLATE utf8_general_ci;

CREATE TABLE dzinhala.news_tag (
  NEWS_ID int(11) NOT NULL,
  TAG_ID int(11) NOT NULL,
  CONSTRAINT FK_news_tag_news_NEWS_ID FOREIGN KEY (NEWS_ID)
  REFERENCES dzinhala.news (NEWS_ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT FK_news_tag_tag_TAG_ID FOREIGN KEY (TAG_ID)
  REFERENCES dzinhala.tag (TAG_ID) ON DELETE NO ACTION ON UPDATE NO ACTION
)
  ENGINE = INNODB
  AVG_ROW_LENGTH = 819
  CHARACTER SET utf8
  COLLATE utf8_general_ci;

CREATE TABLE dzinhala.comments (
  COMMENT_ID int(11) NOT NULL AUTO_INCREMENT,
  COMMENT_TEXT varchar(100) NOT NULL,
  CREATION_DATE timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  NEWS_ID int(11) NOT NULL,
  PRIMARY KEY (COMMENT_ID),
  CONSTRAINT FK_comments_news_NEWS_ID FOREIGN KEY (NEWS_ID)
  REFERENCES dzinhala.news (NEWS_ID) ON DELETE NO ACTION ON UPDATE NO ACTION
)
  ENGINE = INNODB
  AUTO_INCREMENT = 1
  CHARACTER SET utf8
  COLLATE utf8_general_ci
  ROW_FORMAT = DYNAMIC;